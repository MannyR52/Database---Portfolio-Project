<!-- Citation for the following code: -->
<!-- Date: 12/09/2024 -->
<!-- Adapted and based on: -->
<!-- Source URL: https://github.com/osu-cs340-ecampus/flask-starter-app?tab=readme-ov-file#step-5---connecting-the-database -->
<!-- Source URL: https://jinja.palletsprojects.com/en/stable/templates/ -->
<!-- Source URL: https://getbootstrap.com/docs/5.3/getting-started/introduction/ -->
<!-- Source URL: https://www.w3schools.com/html/html_basic.asp -->
<!-- Source URL: https://www.w3schools.com/css/default.asp -->

{% extends "main.jinja" %}
{% block content %}

<!-- Edit Order Form -->
<h2>Edit Order</h2>

<form action="{{ url_for('edit_order', order_id=order['order_id']) }}" method="POST">
    <input type="hidden" name="order_id" value="{{ order['order_id'] }}">

    <!-- Displays customer name -->
    <label for="customer_id">Customer:</label>
    <select id="customer_id" name="customer_id" required>
        {% for customer in customers %}
            <option value="{{ customer['customer_id'] }}" 
                    {% if customer['customer_id'] == order['customer_id'] %} selected {% endif %}>
                {{ customer['name'] }}
            </option>
        {% endfor %}
    </select>
    <br><br>

    <!-- Displays bottle name -->
    <label for="bottle_id">Bottle:</label>
    <select id="bottle_id" name="bottle_id" required>
        {% for bottle in bottles %}
            <option value="{{ bottle['bottle_id'] }}" 
                    {% if bottle['bottle_id'] == order['bottle_id'] %} selected {% endif %}>
                {{ bottle['bottle_name'] }}
            </option>
        {% endfor %}
    </select>
    <br><br>

    <label for="order_total">Order Total:</label>
    <input type="number" id="order_total" name="order_total" step="0.01" value="{{ order['order_total'] }}" required>
    <br><br>

    <!-- Edit Order button -->
    <button type="submit" name="edit_order" class="btn btn-dark">Update Order</button>
</form>

{% endblock %}
